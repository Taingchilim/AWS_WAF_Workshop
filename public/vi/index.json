[
{
	"uri": "/vi/",
	"title": "AWS Web Application Firewall",
	"tags": [],
	"description": "",
	"content": "AWS Web Application Firewall Tổng quan Trong bài lab này, bạn sẽ tìm hiểu khái niệm và thực hành về AWS Web Application Firewall.\nHình ảnh: AWS WAF\nNội dung:  Giới thiệu Chuẩn bị Sử dụng AWS WAF Dọn dẹp tài nguyên  "
},
{
	"uri": "/vi/1-introduction/",
	"title": "Giới thiệu",
	"tags": [],
	"description": "",
	"content": "Giới thiệu về AWS WAF AWS WAF (AWS Web Application Firewall) là một dịch vụ Web Application Firewall (tường lửa ứng dụng web) do Amazon Web Services cung cấp. Dịch vụ này giúp bạn bảo vệ ứng dụng web và API của bạn khỏi các cuộc tấn công từ bên ngoài có thể ảnh hưởng đến hiệu suất, an ninh thông tin, hoặc làm tiêu tốn tài nguyên hệ thống.\nSử dụng AWS WAF là một cách hiệu quả để bảo vệ ứng dụng web của bạn. AWS WAF có khả năng giảm thiểu các mối đe dọa từ các lỗ hổng bảo mật như SQL Injection, Cross Site Scripting (XSS), và các cuộc tấn công phổ biến khác được liệt kê trong Top 10 OWASP. Nó cho phép bạn tạo các luật tùy chỉnh để kiểm soát việc chặn hoặc cho phép các yêu cầu HTTP từ bên ngoài trước khi chúng tiếp cận ứng dụng của bạn.\n"
},
{
	"uri": "/vi/2-prepare/2.1-creates3/",
	"title": "Tạo S3 Bucket",
	"tags": [],
	"description": "",
	"content": "Tạo S3 bucket  Truy cập vào giao diện quản trị dịch vụ S3.   Click Create bucket.   Đặt tên s3 bucket của chúng ta là aws-waf-logs-001. Bạn có thể thay số suffix phía sau ví dụ aws-waf-logs-002 vì tên s3 bucket phải đảm bảo không bị trùng.\n\r Kéo màn hình xuống dưới, sau đó click Create bucket.  Đảm bảo bucket được tạo thành công như hình dưới, trước khi qua các bước tiếp theo.   "
},
{
	"uri": "/vi/3-useawswaf/3.1-createswebacl/",
	"title": "Web ACLs với managed rules",
	"tags": [],
	"description": "",
	"content": "Tình huống Giả sử bạn là một lập trình viên đơn độc đang bắt đầu với cửa hàng Juice Shop (Nước Trái Cây). Website của bạn là một ứng dụng web đơn giản chạy với cơ sở dữ liệu SQL. Vì một số lý do nào đó, nhóm tin tặc Milkshake (nhóm Sữa Lắc) đang bắt đầu tấn công vào trang web của bạn.\nRất may là ngay lúc này bạn đang tiếp cận tới AWS WAF. Vậy là bạn quyết định sẽ triển khai WAF để bảo vệ trang web của bạn.\nNgoài ra thì ngay lúc này, bạn đang không có nhiều thời gian nên bạn sẽ quyết định sẽ sử dụng Nhóm các rule dựng sẵn bởi AWS cho Web ACL của bạn. Với các rule này, website của bạn sẽ được bảo vệ khỏi các tấn công thông thường từ phía nhóm Sữa Lắc.\nWeb ACLs với managed rules Web ACLs (Web Access Control List) là cốt lỗi của việc triển khai AWS WAF. Nó bao gồm các rule được sử dụng để đánh giá các yêu cầu được gửi tới WAF của bạn. Web ACL được áp dụng lên ứng dụng web của bạn thông qua Amazon CloudFront distribution, AWS API Gateway API hay một AWS Application Load Balancer.\nManaged rule groups là một bộ các rule được tạo và cập nhật bởi đội ngũ AWS hoặc các bên thứ 3 trên AWS Marketplace. Những rule này cung cấp khả năng bảo vệ ứng dụng của bạn khỏi các tấn công thông dụng hoặc đặc thù cho từng loại ứng dụng.\n\r Truy cập AWS WAF Console. Bài thực hành này sử dụng phiên bản mới nhất của AWS WAF. Hãy đảm bảo bạn không sử dụng WAF Classic.\n\r   Click Create web ACL.   Trong phần Web ACL details.   Tại mục Resource type, Click CloudFront distributions. Tại mục Name điền waf-workshop-juice-shop. Tại mục Description điền Web ACL for the aws-waf-workshop.   Trong phần Associated AWS resources, Click Add AWS resources.  Trong phần Add AWS resources, Click E24BURECS1O10C - dkievcmqb5kzc.cloudfront.net - WAF Workshop CloudFront Distribution(CloudFront distribution chúng ta đã tạo).   Click Add.   Click Next.  Trong phần Rules.   Click Add rules. Click Add managed rule groups.   Tại trang Add managed rule groups, Click AWS managed rule groups.  Chọn Core Rule Set và SQL Database.  Kéo màn hình xuống dưới, Click Add rules.  Tại trang Add managed rule groups, click Next.  Tại trang Set rule priority, click Next.  Tại trang Configure metrics, click Next.  Tại trang Review and create web ACL, Kéo màn hình xuống dưới, click Create web ACL.  Chạy lệnh  # This imitates a Cross Site Scripting attack\r# This request should be blocked.\rcurl -X POST \u0026lt;Your Juice Shop URL\u0026gt; -F \u0026#34;user=\u0026#39;\u0026lt;script\u0026gt;\u0026lt;alert\u0026gt;Hello\u0026gt;\u0026lt;/alert\u0026gt;\u0026lt;/script\u0026gt;\u0026#39;\u0026#34; 15. Chạy lệnh.\n# This imitates a SQL Injection attack\r# This request should be blocked.\rcurl -X POST \u0026lt;Your Juice Shop URL\u0026gt; -F \u0026#34;user=\u0026#39;AND 1=1;\u0026#34; "
},
{
	"uri": "/vi/2-prepare/",
	"title": "Chuẩn bị",
	"tags": [],
	"description": "",
	"content": "Chuẩn bị Workshop Trong phần này chúng ta sẽ thực hiện tạo môi trường cho workshop bao gồm việc tạo S3 bucket và triển khai một Ứng dụng mẫu.\nNội dung:  Tạo S3 bucket Triển khai một Ứng dụng mẫu  "
},
{
	"uri": "/vi/3-useawswaf/3.2-createcustomrule/",
	"title": "Custom Rule",
	"tags": [],
	"description": "",
	"content": "Tình huống Ngay khi bạn nghĩ là bạn đã ngăn chặn được các tấn công từ nhóm Sữa Lắc, lại có thêm các request tấn công vào ứng dụng của bạn. Các tấn công này ngày càng nguy hiểm hơn. Tuy nhiên bạn có thể tự tin có thể chặn các tấn công này bằng các rule tùy biến cho WAF Web ACL của bạn.\nTất cả các tấn công có vẻ như đều có các header lạ X-TomatoAttack và bạn cần ngăn chặn các request có header này sẽ chặn được đợt tấn công này.\nTạo Custom Rule WAF cho phép bạn tạo các rule tùy chỉnh để xử lý các request. Việc này rất hữu ích khi bạn muốn tùy biến theo ngữ cảnh ứng dụng của bạn. Cùng với giới thiệu rule tùy chỉnh, phần này bạn sẽ được làm quèn với việc tạo mẫu các request và Web ACL Capacity Units.\n\r Ở trang thông tin Web ACL của bạn.   Click Rules. Click Add Rules. Click Add my own rules and rule groups.   Trong phần Rule builder.   Tại mục Name điền MyCustomRule-X-TomatoAttack.   Trong phần Statement.   Tại mục Inspect Chọn Single header. Tại mục Header field name điền X-TomatoAttack. Tại mục Match type Chọn Size greater than or equal to. Tại mục Size in bytes điền 0.   Trong phần Action.   Tại mục Action Click Block. Click Add rule.   Click Save. Bạn có thể đạt được kết quả tương tự nếu dùng regular expression\n\r Chạy lệnh.  # This will be blocked\rcurl -H \u0026#34;X-TomatoAttack: Red\u0026#34; \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;\u0026#34; 7. Chạy lệnh.\n# This will be blocked\rcurl -H \u0026#34;X-TomatoAttack: Green\u0026#34; \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;\u0026#34; 8. Ở trang thông tin Web ACL của bạn.\n Click Overview. Kéo màn hình xuống phần Sampled requests, Bạn sẽ thấy các request nhận được có trạng thái BLOCK..   "
},
{
	"uri": "/vi/2-prepare/2.2-deploythesamplewebapp/",
	"title": "Triển khai một Ứng dụng mẫu",
	"tags": [],
	"description": "",
	"content": "Triển khai một Ứng dụng mẫu Trong bài thực hành này, bạn sẽ sử dụng OWASP Juice Shop. Đây là một ứng dụng web mã nguồn mở không bảo mật.\nBạn có thể tham khảo thêm tài liệu Pwning OWASP Juice Shop để biết thêm về ứng dụng và những lỗ hổng của nó chi tiết hơn.\n Truy cập vào các CloudFormation stack ở phía dưới (tùy theo Region) để tiến hành triển khai.     Region  Launch Template     US East (N. Virginia) (us-east-1)    US East (Ohio) (us-east-2)    US West(Oregon) (us-west-2)    EU (Ireland) (eu-west-1)    EU (London) (eu-west-2)     Click Next.  Tại trang Specify stack details, click Next.  Tại trang Configure stack options, click Next.  Tại trang Review WAFWorkshopSampleWebApp:  Kéo màn hình xuống dưới. Click I acknowledge that AWS CloudFormation might create IAM resources with custom names. Click I acknowledge that AWS CloudFormation might require the following capability: CAPABILITY_AUTO_EXPAND. Click Create stack.    Lưu ý: CloudFormation sẽ mất khoảng 5 phút để triển khai ứng dụng Juice Shop. Hãy đợi cho đến khi tất cả các stack ở trạng thái CREATE_COMPLETE.\nClick Output, click dkievcmqb5kzc.cloudfront.net (địa chỉ trang web Juice Shop) để truy cập thử trang ứng dụng của bạn.  "
},
{
	"uri": "/vi/3-useawswaf/3.3-createadvancecustomrule/",
	"title": "Custom Rule Nâng cao",
	"tags": [],
	"description": "",
	"content": "Tình huống Băng nhóm Sữa Lắc lại tiếp tục tấn công ứng dụng của bạn. Chúng đã thay đổi cách tấn công một lần nữa! Bạn cần phải cập nhật rule để chặn các request xấu xa này trong khi vẫn cho phép khách hàng thực sự gửi request.\nTạo Custom Rule Nâng cao Tất cả WAF Rule được định nghĩa là một JSON Object. Đối với các rule phức tạp, bạn sẽ dễ dàng xử lý hơn nếu làm việc trực tiếp ở định dạng JSON thay vì sử dụng Rule Editor trên console. Bạn có thể lấy các thông tin của rule hiện tại được định nghĩa bằng JSON thông qua sử dụng bằng API, CLI hoặc Console sử dụng lệnh get-rule-group. Chỉnh sửa chúng sử dụng trình biên soạn JSON mà bạn muốn và tải chúng lên với lệnh update-rule-group sử dụng API, CLI hoặc Console.\nĐịnh nghĩa rule sử dụng JSON cho phép bạn áp dụng việc quản lý phiên bản nhằm dễ dàng xem xét cách thức, thời điểm và lý do một tập các rule phức tạp được thay đổi.\n\rLần này, bạn sẽ khởi đầu với rule căn bản như sau:\nRule này sẽ chặn tất cả các request thỏa hai điều kiện:\n Chứa header x-milkshake: chocolate Chứa query parameter milkshake=banana   Ở trang thông tin Web ACL của bạn.   Click Rules. Click Add Rules. Click Add my own rules and rule groups.   Trong phần Rule builder.   Click Rule JSON editor. Tại mục JSON điền  {\r\u0026#34;Name\u0026#34;: \u0026#34;complex-rule-challenge\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0,\r\u0026#34;Action\u0026#34;: {\r\u0026#34;Block\u0026#34;: {}\r},\r\u0026#34;VisibilityConfig\u0026#34;: {\r\u0026#34;SampledRequestsEnabled\u0026#34;: true,\r\u0026#34;CloudWatchMetricsEnabled\u0026#34;: true,\r\u0026#34;MetricName\u0026#34;: \u0026#34;complex-rule-challenge\u0026#34;\r},\r\u0026#34;Statement\u0026#34;: {\r\u0026#34;OrStatement\u0026#34;: {\r\u0026#34;Statements\u0026#34;: [\r{\r\u0026#34;ByteMatchStatement\u0026#34;: {\r\u0026#34;FieldToMatch\u0026#34;: {\r\u0026#34;SingleHeader\u0026#34;: {\r\u0026#34;Name\u0026#34;: \u0026#34;x-milkshake\u0026#34;\r}\r},\r\u0026#34;PositionalConstraint\u0026#34;: \u0026#34;EXACTLY\u0026#34;,\r\u0026#34;SearchString\u0026#34;: \u0026#34;chocolate\u0026#34;,\r\u0026#34;TextTransformations\u0026#34;: [\r{\r\u0026#34;Type\u0026#34;: \u0026#34;NONE\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0\r}\r]\r}\r},\r{\r\u0026#34;ByteMatchStatement\u0026#34;: {\r\u0026#34;FieldToMatch\u0026#34;: {\r\u0026#34;SingleQueryArgument\u0026#34;: {\r\u0026#34;Name\u0026#34;: \u0026#34;milkshake\u0026#34;\r}\r},\r\u0026#34;PositionalConstraint\u0026#34;: \u0026#34;EXACTLY\u0026#34;,\r\u0026#34;SearchString\u0026#34;: \u0026#34;banana\u0026#34;,\r\u0026#34;TextTransformations\u0026#34;: [\r{\r\u0026#34;Type\u0026#34;: \u0026#34;NONE\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0\r}\r]\r}\r}\r]\r}\r}\r} 3. Kéo màn hình xuống dưới, Click Add rule. 4. Click Save. Cập nhật Rule Rule này sẽ chặn tất cả các request thỏa hai điều kiện:\n Chứa header x-milkshake: chocolate và cả header x-favourite-topping: nuts Chứa query parameter milkshake=banana và cả query parameter favourite-topping=sauce   Ở trang thông tin Web ACL của bạn.   Click Rules. Click complex-rule-challenge(tên rule muốn cập nhật).   Click Edit.  Trong phần Rule builder.   Click Rule JSON editor. Tại mục JSON điền  {\r\u0026#34;Name\u0026#34;: \u0026#34;complex-rule-challenge\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0,\r\u0026#34;Action\u0026#34;: {\r\u0026#34;Block\u0026#34;: {}\r},\r\u0026#34;VisibilityConfig\u0026#34;: {\r\u0026#34;SampledRequestsEnabled\u0026#34;: true,\r\u0026#34;CloudWatchMetricsEnabled\u0026#34;: true,\r\u0026#34;MetricName\u0026#34;: \u0026#34;complex-rule-challenge\u0026#34;\r},\r\u0026#34;Statement\u0026#34;: {\r\u0026#34;OrStatement\u0026#34;: {\r\u0026#34;Statements\u0026#34;: [\r{\r\u0026#34;AndStatement\u0026#34;: {\r\u0026#34;Statements\u0026#34;: [\r{\r\u0026#34;ByteMatchStatement\u0026#34;: {\r\u0026#34;FieldToMatch\u0026#34;: {\r\u0026#34;SingleHeader\u0026#34;: {\r\u0026#34;Name\u0026#34;: \u0026#34;x-milkshake\u0026#34;\r}\r},\r\u0026#34;PositionalConstraint\u0026#34;: \u0026#34;EXACTLY\u0026#34;,\r\u0026#34;SearchString\u0026#34;: \u0026#34;chocolate\u0026#34;,\r\u0026#34;TextTransformations\u0026#34;: [\r{\r\u0026#34;Type\u0026#34;: \u0026#34;NONE\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0\r}\r]\r}\r},\r{\r\u0026#34;ByteMatchStatement\u0026#34;: {\r\u0026#34;FieldToMatch\u0026#34;: {\r\u0026#34;SingleHeader\u0026#34;: {\r\u0026#34;Name\u0026#34;: \u0026#34;x-favourite-topping\u0026#34;\r}\r},\r\u0026#34;PositionalConstraint\u0026#34;: \u0026#34;EXACTLY\u0026#34;,\r\u0026#34;SearchString\u0026#34;: \u0026#34;nuts\u0026#34;,\r\u0026#34;TextTransformations\u0026#34;: [\r{\r\u0026#34;Type\u0026#34;: \u0026#34;NONE\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0\r}\r]\r}\r}\r]\r}\r},\r{\r\u0026#34;AndStatement\u0026#34;: {\r\u0026#34;Statements\u0026#34;: [\r{\r\u0026#34;ByteMatchStatement\u0026#34;: {\r\u0026#34;FieldToMatch\u0026#34;: {\r\u0026#34;SingleQueryArgument\u0026#34;: {\r\u0026#34;Name\u0026#34;: \u0026#34;milkshake\u0026#34;\r}\r},\r\u0026#34;PositionalConstraint\u0026#34;: \u0026#34;EXACTLY\u0026#34;,\r\u0026#34;SearchString\u0026#34;: \u0026#34;banana\u0026#34;,\r\u0026#34;TextTransformations\u0026#34;: [\r{\r\u0026#34;Type\u0026#34;: \u0026#34;NONE\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0\r}\r]\r}\r},\r{\r\u0026#34;ByteMatchStatement\u0026#34;: {\r\u0026#34;FieldToMatch\u0026#34;: {\r\u0026#34;SingleQueryArgument\u0026#34;: {\r\u0026#34;Name\u0026#34;: \u0026#34;favourite-topping\u0026#34;\r}\r},\r\u0026#34;PositionalConstraint\u0026#34;: \u0026#34;EXACTLY\u0026#34;,\r\u0026#34;SearchString\u0026#34;: \u0026#34;sauce\u0026#34;,\r\u0026#34;TextTransformations\u0026#34;: [\r{\r\u0026#34;Type\u0026#34;: \u0026#34;NONE\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0\r}\r]\r}\r}\r]\r}\r}\r]\r}\r}\r} 4. Click Save rule. 5. Click Save 6. Chạy lệnh\n# This will be allowed\rcurl -H \u0026#34;x-milkshake: chocolate\u0026#34; \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;\u0026#34;\rcurl \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;?milkshake=banana\u0026#34; 7. Chạy lệnh\n# This will be blocked\rcurl -H \u0026#34;x-milkshake: chocolate\u0026#34; -H \u0026#34;x-favourite-topping: nuts\u0026#34; \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;\u0026#34;\rcurl \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;?milkshake=banana\u0026amp;favourite-topping=sauce\u0026#34; Các request bị chặn sẽ có phản hồi như sau:\n\u0026lt;!DOCTYPE html PUBLIC \u0026#34;-//W3C//DTD HTML 4.01 Transitional//EN\u0026#34; \u0026#34;http://www.w3.org/TR/html4/loose.dtd\u0026#34;\u0026gt;\r\u0026lt;html\u0026gt;\r\u0026lt;head\u0026gt;\r\u0026lt;meta http-equiv=\u0026#34;Content-Type\u0026#34; content=\u0026#34;text/html; charset=iso-8859-1\u0026#34; /\u0026gt;\r\u0026lt;title\u0026gt;ERROR: The request could not be satisfied\u0026lt;/title\u0026gt;\r\u0026lt;/head\u0026gt;\r\u0026lt;body\u0026gt;\r\u0026lt;h1\u0026gt;403 ERROR\u0026lt;/h1\u0026gt;\r\u0026lt;!-- Omitted --\u0026gt;\r\u0026lt;/body\u0026gt;\r\u0026lt;/html\u0026gt; Ở phần này, bạn đã hiểu được cách để định nghĩa WAF rule ở định dạng JSON. Các logic phức tạp cần phải được định nghĩa sử dụng các toán tử AND, OR và NOT.\n"
},
{
	"uri": "/vi/3-useawswaf/",
	"title": "Sử dụng AWS WAF",
	"tags": [],
	"description": "",
	"content": "Sử dụng AWS WAF Trong phần này, chúng ta sẽ thực hiện các bước sau để sử dụng AWS WAF:\n Tạo Web ACL từ WAF console. Tạo Rule cho WAF của bạn. Kiểm thử Rule mới. Lưu nhật ký requests.  Nội dung:  Web ACLs với managed rules Custom Rule Custom Rule Nâng cao Kiểm thử Rule mới Ghi nhật ký request  "
},
{
	"uri": "/vi/4-cleanup/",
	"title": "Dọn dẹp tài nguyên",
	"tags": [],
	"description": "",
	"content": "Bạn sẽ dọn dẹp tài nguyên theo thứ tự sau:\nXóa ứng dụng web mẫu  Truy cập CloudFormation Console.   Chọn WAFWorkshopSampleWebApp. Click Delete.   Click Delete stack để xóa.   Xóa Web ACL  Truy cập AWS WAF Console.   Click Web ACLs. Chọn waf-workshop-juice-shop. Click Delete.   Điền delete để xác nhận, sau đó click Delete để xóa.   Xóa Kinesis  Truy cập Amazon Kinesis Console.   Click Delivery streams. Chọn aws-waf-logs-workshop-26. Click Delete.   Điền aws-waf-logs-workshop-26 để xác nhận, sau đó click Delete để xóa.   Xóa S3 bucket  Truy cập vào giao diện quản trị dịch vụ S3.   Click chọn S3 bucket aws-waf-logs-001. Click Empty.   Điền permanently delete để xác nhận, sau đó click Empty để xóa toàn bộ dữ liệu trong S3 bucket.    Click Exit để trở lại giao diện S3.   Click chọn S3 bucket aws-waf-logs-001 , sau đó click Delete.  Điền tên bucket sau đó click Delete bucket để xóa S3 bucket.   "
},
{
	"uri": "/vi/3-useawswaf/3.4-testingnewrule/",
	"title": "Kiểm thử Rule mới",
	"tags": [],
	"description": "",
	"content": "Trước khi triển khai một rule mới, bạn cần phải kiểm thử để chắc chắn bạn không vô tình chặn các request hợp lệ.\nỞ những phần trước, bạn đã sử dụng Block và Allow khi định nghĩa các hành động khi đánh giá request. Bên cạnh đó, bạn có một lựa chọn khác là Count. Count cho phép bạn đánh giá số lượng request trùng với điều kiện rule của bạn.\nCount không phải là hành động ngăn chặn. Khi một request khớp rule có hành động Count, Web ACL sẽ tiếp tục xử lý các rule khác.\nTình huống Bạn đã định nghĩa được một rule mới cho WAF của bạn. Trước khi triển khai chúng, bạn cần phải kiểm thử trước. Việc này nhằm giảm nguy cơ bạn vô tình chặn các request hợp lệ.\nRule bên dưới sẽ chặn các request với thông số truy xuất vào username.\nKiểm thử Rule mới  Tạo một rule mới tương tự như tạo Custom Rule nâng cao trong phần 3.3.   Tại mục JSON điền  {\r\u0026#34;Name\u0026#34;: \u0026#34;count-von-count\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0,\r\u0026#34;Action\u0026#34;: {\r\u0026#34;Count\u0026#34;: {}\r},\r\u0026#34;VisibilityConfig\u0026#34;: {\r\u0026#34;SampledRequestsEnabled\u0026#34;: true,\r\u0026#34;CloudWatchMetricsEnabled\u0026#34;: true,\r\u0026#34;MetricName\u0026#34;: \u0026#34;count-von-count\u0026#34;\r},\r\u0026#34;Statement\u0026#34;: {\r\u0026#34;SizeConstraintStatement\u0026#34;: {\r\u0026#34;FieldToMatch\u0026#34;: {\r\u0026#34;SingleQueryArgument\u0026#34;: {\r\u0026#34;Name\u0026#34;: \u0026#34;username\u0026#34;\r}\r},\r\u0026#34;ComparisonOperator\u0026#34;: \u0026#34;GT\u0026#34;,\r\u0026#34;Size\u0026#34;: \u0026#34;0\u0026#34;,\r\u0026#34;TextTransformations\u0026#34;: [\r{\r\u0026#34;Type\u0026#34;: \u0026#34;NONE\u0026#34;,\r\u0026#34;Priority\u0026#34;: 0\r}\r]\r}\r}\r} Chạy lệnh.  curl \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;?username=admin\u0026#34; 3. Truy xuất đến trang CloudWatch Metrics.\n Click WAFv2  Click Rule, WebACL  Chọn count-von-count, Chúng ta sẽ thấy 1 request trong phần Untitled graph.   Trước khi triển khai một rule mới vòa Web ACL cua bạn, hãy kiểm thử nó. Kiểm thử một rule mới với hành cộng Count, giám sát nó thông qua CloudWatch metrics.\n"
},
{
	"uri": "/vi/3-useawswaf/3.5-logging/",
	"title": "Ghi nhật ký request",
	"tags": [],
	"description": "",
	"content": "Tình huống Cửa hàng Nước ép của bạn đang phát triển nhanh chóng. Tuyệt vời! Bây giờ, bạn đang có một tập các rule, bạn dần đần cảm thấy khó nhận ra rule nào chịu trách nhiệm ngăn chặn các request. Như vậy, việc ghi nhận log trở nên hữu ích vào lúc này. Để làm việc này, bạn cần phải bật tính năng ghi nhật ký cho Web ACL của bạn vào S3 bucket. Log của bạn chứa những header, named cookie nhạy cảm. Bạn không muốn nội dung này được ghi nhận lại. Vì vậy bạn cần phải cấu hình loại bỏ các header trong log.\nGhi nhật ký request WAF sử dụng Amazon Kinesis Firehose để ghi nhật ký. Điều này cho phép các bản ghi được chuyển đến bất kỳ kho Kinesis Firehose nào, chẳng hạn như Amazon S3, Amazon Redshift hoặc Amazon Elastic Search. Để ghi nhật ký các yêu cầu trong Web ACL của bạn, bạn phải tạo một Kinesis Data Firehose.\n\r Truy cập Amazon Kinesis Console.   Click Kinesis Data Firehose. Click Create delivery stream. Bạn cần chắc rằng sẽ tạo trong region us-east-1. Đây là yêu cầu bắt buộc để ghi nhận log cho CloudFront.\n\r  Trong phần Choose source and destination.   Tại mục Source Chọn Direct PUT. Tại mục Destination Chọn Amazon S3.   Tại mục Choose source and destination điền aws-waf-logs-workshop-26. Tên của Kinesis Data Firehose sẽ bắt đầu với aws-waf-logs-workshop-. Đây là yêu cầu bắt buộc của dịch vụ WAF.\n\r Trong phần Destination settings.   Click Browse.  Chọn aws-waf-logs-001(S3 bucket đã tạo trước đó) là nơi lưu trữ đích. Click Choose.   Kéo màn hình xuống dưới, Click Create delivery stream.  Truy cập AWS WAF Console.   Click Web ACLs. Chọn Global. Click waf-workshop-juice-shop.   Ở trang thông tin Web ACL của bạn.   Chọn tab Logging and metrics. Click Enable.   Trong phần Logging destination.   Click Kinesis Data Firehose stream. Tại mục Amazon Kinesis Data Firehose delivery stream Chọn aws-waf-logs-workshop-26.   Trong phần Redacted fields.   Chọn Single header. Tại mục Redacted headers Click Add header Thêm vào giá trị header Cookie. Click Save   Chạy lệnh  curl \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;?username=admin\u0026#34;\rcurl \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;?milkshake=banana\u0026amp;favourite-topping=sauce\u0026#34;\rcurl -H \u0026#34;x-milkshake: chocolate\u0026#34; \u0026#34;\u0026lt;Your Juice Shop URL\u0026gt;\u0026#34; 11. Tải tập tin log ghi nhận vào S3. 12. Tìm từ khóa Cookie trong tập tin. Kết luận WAF cho phép bạn ghi nhận các nhật kí request và lưu trữ trong nơi lưu trữ đích của Kinesis Data Firehose. Nhật ký cung cấp thông tin về request. Nhật ký đồng thời cung cấp hành động và rule đã tác động lên request. Thông tin này có thể không giá trị khi bạn chạy WAF. Sử dụng tính năng điều chỉnh các vùng nội dung để loại bỏ các thông tin nhạy cảm.\n"
},
{
	"uri": "/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]